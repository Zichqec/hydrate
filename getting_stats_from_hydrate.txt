Stats from Hydrate come from an event called OnHydrateGhost.GetStats
This is sent as NOTIFY, and is broadcast to all open ghosts.
It is sent in the following instances:

- When Hydrate boots
- When Hydrate closes
- When another ghost boots
- When the hour rolls over
- When Hydrate's shell is changed
- When Hydrate's dressups are changed
- When Hydrate's shell scaling is changed
- When the user takes a drink (timed drink or extra sip)
- When the user skips a timed drink (which breaks their streak)
- When Hydrate is minimized

Information is passed along as references. Most of it is straightforward to understand.

reference0: Name of the current shell.
reference1: List of the current dressups. This is a two dimensional array. Each dressup is delimited by the unicode noncharacter 0xFDEF, and within each dressup the category name and part name are delimited by 0x01.
reference2: Currently blank, reserved for future use.
reference3: Currently blank, reserved for future use.
reference4: Number of drinks today.
reference5: Number of drinks total.
reference6: Current drink streak (number of drinks in a row, can span multiple sessions).
reference7: Highest drink streak (high score for drinks in a row, only kicks in at 3 drinks or more).
reference8: Number of extra sips today.
reference9: Number of extra sips total.
reference10: 1 if Hydrate is minimized, 0 otherwise (Note that the drink count will not go up while minimized, nor will the streak reset).

Notes about reference1:

reference1 uses some special characters to separate the dressups.

In YAYA, that data can be broken down like so:

_dressups = IARRAY
foreach SPLIT(reference3,CHR(0xFDEF)); _dressup
{
	_dressups ,= _dressup
}

This will create a local array _dressups with the 2d array turned into a general purpose array, which is a bit easier to work with. Note that you should *not* convert the 0x01 characters to another delimiter such as commas, as dressup names may contain these characters.

Here's an example of how you can break them down:

_dressup = SPLIT(_dressups[0],C_BYTE1) //Pick a dressup from the array, in this case I picked the first one. After splitting, element 0 will be the name of the category, and element 1 will be the name of the dressup piece.

You can also do it like this:

_dressup = _dressups[0] //Pick a dressup from the array, in this case I picked the first one.
_dressup[0,C_BYTE1] //The name of the dressup's category.
_dressup[1,C_BYTE1] //The name of the dressup piece.

Once you have that data, you can perform whatever checks/logic you need to, of course.

If you want to learn more about working with multidimensional arrays in YAYA, please consult my guide here: https://zichqec.github.io/YAYA_Fundamentals/module_02_arrays/03_multidimensional_arrays.html


If you're using a SHIORI other than YAYA and find that your SHIORI cannot parse this array, please let me know! I may consider adding another event for compatibility.